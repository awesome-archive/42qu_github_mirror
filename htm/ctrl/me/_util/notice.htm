<%!
from model.cid import CID_INVITE_REGISTER, CID_NOTICE_REGISTER, CID_NOTICE_WALL, CID_NOTICE_WALL_REPLY, CID_INVITE_QUESTION, CID_NOTICE_QUESTION
from zkit.time_format import friendly_time
%>

<%def name="notice_render(i)">
<%
cid = i.cid
rid = i.rid
from_user = i.from_user
entry = i.entry
%>
<span class="R c9">${friendly_time(i.create_time)}</span>
<a href="${from_user.link}">${from_user.name}</a>
%if cid == CID_NOTICE_WALL:
给你留了言 , <a href="${i.link}">点此浏览</a> 
%elif cid == CID_NOTICE_WALL_REPLY:
<%
entry_zsite = entry.zsite_other(current_user_id)
%>\
参与了 你 与 <a href="${entry_zsite.link}">${entry_zsite.name}</a> 的
对话 , <a href="${i.link}">点此浏览</a>
%endif

##%if cid == CID_INVITE_REGISTER:
##邀请你注册
##%elif cid == CID_NOTICE_REGISTER:
##接受你的邀请注册了
##%elif cid == CID_NOTICE_WALL:
##留言 
##%elif cid == CID_NOTICE_WALL_REPLY:
##回复了我的留言
##%elif cid == CID_INVITE_QUESTION:
##邀请你回答<a href="${entry.link}">${entry.name}</a>
##%elif cid == CID_NOTICE_QUESTION:
##接受你的邀请回答了<a href="${entry.link}">${entry.name}</a>
##%endif
</%def>
