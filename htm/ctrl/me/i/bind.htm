<%inherit file="_base.htm" />
<%namespace file="/ctrl/_util/htm.htm" name="htm"/>
<%!
from model.oauth import OAUTH_GOOGLE, OAUTH_DOUBAN, OAUTH_SINA, OAUTH_TWITTER, OAUTH_WWW163, OAUTH_SOHU, OAUTH_QQ, OAUTH2NAME_DICT
from model.cid import CID_WORD, CID_NOTE, CID_QUESTION, CID_ANSWER, CID_PHOTO
%>
<%def name="head()">
<style>
.g1bk{
text-align:right;
padding:16px 0;
border-bottom:1px dotted #ccc;
}
.sync{
border-bottom:1px dotted #ccc;padding-bottom:3px;
}
</style>
</%def>
<div class="C">


%for cid, name in OAUTH2NAME_DICT.iteritems():
<div class="sync">
    <div class="G">
        <div class="G1">
            <div class="g1bk">
                <span class="L">${name}</span>
                <a href="/i/binded/${cid}">添加关联</a>
            </div>
        </div>
        <div class="G3"><div class="G">
        %for j in range(1):
            <div class="G1">
                <div class="g1bk">
                    <span class="L">张沈鹏</span>
                    <a href="javascript:sync()">同步设置</a>
                </div>
            </div>
        %endfor
        </div></div>
    </div>
</div>
%endfor








<ul>
    %for i in OAUTH2NAME_DICT:
    <li>
    <a href="/i/binded?cid=${i}">关联${OAUTH2NAME_DICT[i]}</a>
    </li>
    %endfor
<ul>

<%htm:form className="fullscreen">
##% for cid, state in sync_list:
##<p>
##<input type="checkbox"
##% if state == 1:
##checked
##% endif
##name="cid${cid}" id="cid${cid}">
##<label for="cid${cid}">${CID_NAME_DICT[cid]}</label>
##</p>
##% endfor
<p>
    <span class="btnw"><button type="submit">同步</button></span>
</p>
</%htm:form>
已经关联：
<ul>
    %for app_id,oauth_id in app_list:
%if app_id in OAUTH2NAME_DICT:
<li> ${OAUTH2NAME_DICT[app_id]} <a href='/i/bind/oauth_rm/${oauth_id}?${_xsrf}'> 取消关联</a></li>
%endif
    %endfor
</ul>

