<%!
from cgi import escape
from model.po import Po
%>

<%def name="user_link(user)">
<a target="_blank" href="${user.link}">${user.name}</a>\
</%def>

<%def name="user_career_link(user)">
<%
career = ' , '.join(filter(bool, user.career))
%>
<a href="${user.link}" target="_blank">${user.name}\
% if career:
 - ${career}\
% endif
</a>
</%def>

<%def name="user_link_list(user_list)">
${' , '.join(['<a target="_blank" href="%s">%s</a>' % (i.link, escape(i.name)) for i in user_list])|n}
</%def>

<%def name="user_link_list_with_career(user_list)">
<%
l = len(user_list)
%>
%if l > 1:
${user_link_list(user_list)}\
%elif l:
${user_career_link(user_list[0])}\
%endif
</%def>

## txt

<%def name="user_career(user)">\
<%
career = ' , '.join(filter(bool, user.career))
%>\
${user.name}\
% if career:
 - ${career}\
% endif
</%def>

<%def name="user_name_list(user_list)">\
${' , '.join([i.name for i in user_list])}\
</%def>

<%def name="user_list_with_career(user_list)">\
<%
l = len(user_list)
%>\
% if l > 1:
${user_name_list(user_list)}\
% elif l:
${user_career(user_list[0])}\
% endif
</%def>

<%def name="event_name(event_id)">\
<%
po = Po.mc_get(event_id)
%>
<a href="${po.link}" target="_blank">${po.name}</a>
</%def>
