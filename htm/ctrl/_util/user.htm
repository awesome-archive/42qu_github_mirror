<%!
from cgi import escape
%>

<%def name="user_link(user)">
<a target="_blank" href="http:${user.link}" class="TPH">${user.name}</a>\
</%def>

<%def name="user_career_link(user)">
<%
career = ' , '.join(filter(bool, user.career))
%>
<a href="http:${user.link}" target="_blank" class="TPH">${user.name}\
% if career:
 - ${career}\
% endif
</a>
</%def>

<%def name="user_link_list(user_list)">
${' , '.join(['<a target="_blank" href="http:%s" class="TPH">%s</a>' % (i.link, escape(i.name)) for i in filter(bool,user_list)])|n}
</%def>

<%def name="user_link_list_with_career(user_list)">
<%
l = len(user_list)
%>
%if l > 1:
${user_link_list(user_list)}\
%elif l:
${user_career_link(user_list[0])}\
%endif
</%def>

## txt

<%def name="user_career(user)">\
<%
career = ' , '.join(filter(bool, user.career))
%>\
${user.name}\
% if career:
 - ${career}\
% endif
</%def>

<%def name="user_name_list(user_list)">\
${' , '.join([i.name for i in user_list])}\
</%def>

<%def name="user_list_with_career(user_list)">\
<%
l = len(user_list)
%>\
% if l > 1:
${user_name_list(user_list)}\
% elif l:
${user_career(user_list[0])}\
% endif
</%def>

<%def name="po_link(po)">\
<a href="${po.link}" target="_blank">${po.name}</a>
</%def>
