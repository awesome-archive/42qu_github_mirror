= API调用流程 =

== 1. 获取用户ID ==

/user/info/mail

输入

{{{
{
    mail:
    client_id: //可选
    access_token:      //可选
}
}}}

返回
{{{
    user_id:
    name:
    ico: //小图标的url , 可能为空字符串
}}}

演示链接
{{{
http://api.42qu.me/user/info/mail?mail=zsp007@gmail.com
}}}

== 2. 用户登录 ==

/user/oauth/login


* mail : 用户的注册邮箱
* passwd : 用户的密码
* client_id : 应用的id 
* token : 应用的token

返回
{{{
{
access_token : 授权token
refresh_token : 刷新token
}
}}}



演示输入
{{{
client_id = 10045260
token = "820afba8706f4fd3b281cdd8418b2fa2"
mail = "yupbank@qq.com"
passwd = "123456"
}}}

演示链接
{{{
http://api.yup.xxx/user/oauth/login?mail=yupbank@qq.com&passwd=6171446&token=820afba8706f4fd3b281cdd8418b2fa2&client_id=10045260
}}}


演示输出
{{{
{"access_token":"AgAAAAQrpDXHlWFg3n_JvH","refresh_token":"AgAAAAKaF1QoKfQ_ER7D-c"}
}}}

== 3. 调用API ==
以后每次调用, 附加上以下三个参数就可以了

{{{
client_id:
sign:
}}}



