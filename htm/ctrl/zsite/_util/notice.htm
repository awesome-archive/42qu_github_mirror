<%!
from zkit.time_format import friendly_time
from model.po import Po
from zkit.txt import cnenoverflow
%>

<%def name="reply_render(i)">
<%
buzz_at_id,from_user,po,reply = i
%>
<div class="c sdw"><div class="sd">
<pre>
%if reply:
${reply.htm|n}\
% else:
${po.htm|n}\
%endif
</pre>
<div class="bar">
<span class="L">
<a href="${from_user.link}" class="TPH">${from_user.name}</a>
, ${friendly_time(po.create_time)}
    %if reply:
    跟帖 <a href="${po.link}#reply${reply.id}">${cnenoverflow(po.name,15)[0]|n}</a>
    %endif
</span>
%if reply:
<a class="reply" href="${po.link}#reply${reply.id}"></a>
%else:
<a class="reply" href="${po.link}"></a>
%endif
</div>\
</div></div>\
</%def>
